# Файлы навигации

@manual-toc --local --ordered --unique

Если в любой директории с исходными файлами создать файл `_nav.yaml`, который также называется _файлом навигации_. Файл навигации используется для [описания метаданных раздела](#metadata), а также [сортировки и описания метаданных его подразделов](#items). Действие каждого такого файла распространяется только на ту директорию, в которой он находится.

::: note
Если ваш текстовый редактор поддерживает работу с JSON Schema, вы можете подключить схему из файла [`sobiraka-nav.yaml`](../../../src/sobiraka/files/sobiraka-nav.yaml), чтобы комфортнее редактировать файлы навигации.
:::

## Метаданные раздела {#metadata}

В файле навигации можно указывать [`title`](metadata.md#title) и другие [метаданные](metadata.md) (кроме [`version`](metadata.md#version)). Эти метаданные будут применены к автоматически генерируемой [индексной странице](files.md#directories-and-index-files) для текущей директории.

Если в директории существует реальный индексный файл (например, `_index.md`), то информация загружается из него, а метаданные из файла навигации игнорируются. Это поведение может измениться в будущих версиях Собираки.

Пример ниже описывает раздел из трёх статей, для которого будет сгенерирована простая страница-оглавление (при отсутствующем файле `_index.md`). Метаданные задают название страницы и её адрес.

```yaml
permalink: /setup/
toc_title: Установка
title: Установка программы
items:
  - windows.md
  - macos.md
  - linux.md
```

## Сортировка и метаданные подразделов {#items}

Когда в директории находится файл навигации, Собирака полностью отключает [стандартный алгоритм сортировки](files.md#sorting) в этой директории и использует порядок разделов из массива `items` в файле.

Элементами массива могут быть имена файлов или директорий или объекты из одного элемента, где ключ соответствует имени файла или директории, а значение — словарь с любыми метаданными (кроме [`version`](metadata.md#version)).

Если указанный файл или директория содержат собственный [блок метаданных](metadata.md), то он имеет приоритет над метаданными, указанными в файле навигации. Это поведение может измениться в будущих версиях Собираки.

```yaml
title: Инструкция
items:
  - step1.md              # Имя файла
  - step2.md: Шаг второй  # Имя файла и заголовок
  - step3.md:             # Имя файла и произвольные метаданные
      title: Шаг третий
      permalink: /quickstart/step3/
```