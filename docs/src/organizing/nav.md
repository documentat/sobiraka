# Файлы навигации

@manual-toc --local --ordered --unique

В любой директории с исходными файлами можно создать _файл навигации_ `_nav.yaml`. В таком файле можно [описать метаданные](#metadata) для текущего раздела, а также [задать сортировку и описать метаданные](#items) дочерних разделов.

Действие каждого такого файла распространяется только на ту директорию, в которой он находится.

::: note
**Совет для продвинутых.** Если ваш текстовый редактор поддерживает работу с JSON Schema, вы можете подключить схему из файла [`sobiraka-nav.yaml`](../../../src/sobiraka/files/sobiraka-nav.yaml), чтобы комфортнее редактировать файлы навигации.
:::

## Метаданные раздела {#metadata}

Если в директории нет [индексного файла](files.md#directories-and-index-files), то Собирака автоматически генерирует индексную страницу с оглавлением и использует для неё метаданные из файла навигации. В файле навигации можно указать все те же свойства, что и в обычном [блоке метаданных](metadata.md) (кроме [`version`](metadata.md#version)).

Если в директории есть индексный файл (например, `_index.md`), то метаданные из файла навигации игнорируются. Это поведение может измениться в будущих версиях Собираки.

Пример ниже описывает раздел из трёх статей, для которого будет сгенерирована простая страница-оглавление (при отсутствующем файле `_index.md`). Метаданные задают название страницы и её адрес.

```yaml
permalink: /setup/
toc_title: Установка
title: Установка программы
items:
  - windows.md
  - macos.md
  - linux.md
```

## Сортировка и метаданные подразделов {#items}

Когда в директории находится файл навигации, Собирака полностью отключает [стандартный алгоритм сортировки](files.md#sorting) в этой директории и использует порядок разделов из массива `items` в файле.

Чтобы задать порядок разделов, перечислите имена файлов:

```yaml
items:
  - windows.md
  - macos.md
  - linux.md
```

Если необходимо, в каждом пункте можно указать после двоеточия название страницы — аналог свойства [`title`](metadata.md#title):

```yaml
items:
  - windows.md: Установка в Windows
  - macos.md: Установка в macOS
  - linux.md: Установка в Linux
```

Также можно указать вложенный словарь с любыми метаданными (кроме [`version`](metadata.md#version)).

```yaml
items:
  - windows.md:
      title: Установка в Windows
      toc_title: Windows
  - macos.md:
      title: Установка в macOS
      toc_title: macOS
  - linux.md:
      title: Установка в Linux
      toc_title: Linux
```

::: note
Если указанный файл или директория содержат собственный [блок метаданных](metadata.md), то он имеет приоритет над метаданными, указанными в файле навигации. Это поведение может измениться в будущих версиях Собираки.
:::