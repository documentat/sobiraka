# API для шаблонов

Переменные и функции, доступные [шаблону](../21-build-html/2-web-customization.md#template) при сборке документации в HTML.

{% include 'unstable-api.md' %}

## API для всех форматов {#all}

- `builder` — объект класса `Builder` из Собираки.

- `project` — текущий проект.

- `volume` — текущий [том](../11-overview/01-terms.md).

- `config` — объект для доступа к настройкам текущего тома.

- `head` — дополнительный код, который необходимо добавить внутрь тега `<head>`.

- `toc()` — функция, генерирующая [оглавление](../11-overview/02-files.md#toc) по текущему тому.

## API для сборки HTML {#html}

- `number` — номер страницы, если в томе включена [автонумерация](../11-overview/02-files.md#autonumeration).

- `title` — заголовок страницы.

- `body` — содержимое страницы без заголовка, преобразованное в HTML.

- `page` — объект для доступа к текущей странице.

- `ROOT` — относительный путь к корню документации. Пример: `..`.

- `ROOT_PAGE` — относительный путь к главной странице документации. Примеры: `..`, `../index.html`.

- `RESOURCES` — относительный путь к директории с изображениями и другими ресурсами. Пример: `../images`.

- `STATIC` — относительный путь к директории, в которую будут скопированы ресурсы из поддиректории `_static` используемой темы. Пример: `../static`.

- `theme_data` — словарь с произвольными данными из настройки [`web.theme_data`](../99-reference/1-configuration.md#web.theme_data).

- `now` — текущие дата и время, полученные с помощью [`datetime.now()`](https://docs.python.org/3/library/datetime.html#datetime.datetime.now).

- `Language` — класс для получения названия языка. См. библиотеку [`iso639`](https://github.com/jacksonllee/iso639).

- `local_toc()` — функция, генерирующая [оглавление](../11-overview/02-files.md#toc) по текущей странице.

## API для сборки PDF {#pdf}

- `content` — список кортежей, каждый из которых содержит четыре элемента:

   - объект для доступа к текущей странице.
   - номер страницы, если в томе включена [автонумерация](../11-overview/02-files.md#autonumeration).
   - заголовок страницы.
   - содержимое страницы без заголовка, преобразованное в HTML.