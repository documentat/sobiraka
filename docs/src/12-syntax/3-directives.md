# Директивы

Директивы — специальные конструкции, начинающиеся с символа `@` и вставленные отдельными абзацами. Директивы могут принимать аргументы, подобно программам в командной строке.

Собирака распознаёт директивы и её аргументы на одном из ранних этапов сборки, однако генерация контента, который подставится вместо директивы, происходит в конце сборки. Это позволяет генерировать контент на основе более полной информации как о текущей, так и обо всех других страницах документации.

Пока этот механизм работает только для генерации оглавлений, но в будущем могут появиться и другие директивы.

## `@toc`

```
@toc [--combine] [--depth DEPTH]
```

Сгенерировать оглавление, в которое будут включены дочерние страницы текущей страницы. В частности, директива `@toc` на корневой странице сгенерирует полное оглавление по всему тому.

### --combine {#toc-combine}

Включать в оглавление не только ссылки на страницы, но и ссылки на их подзаголовки.

### --depth DEPTH {#toc-depth}

Максимальная глубина вложенности оглавления. Например, `@toc --depth 1` сгенерирует ссылки на страницы строго одним уровнем ниже текущей.

## `@local-toc`

```
@local-toc [--depth DEPTH]
```

Сгенерировать оглавление, в которое будут включены подзаголовки текущего заголовка. Например, директива `@local-toc` в самом начале страницы сгенерирует полное оглавление по всем заголовкам страницы, а директива `@local-toc` после заголовка второго уровня — оглавление по заголовкам третьего и ниже уровней.

### --depth DEPTH {#local-toc-depth}

Максимальная глубина вложенности оглавления. Например, `@toc --depth 1` сгенерирует ссылки на заголовки строго одним уровнем ниже текущего.

## `@class`

```
@class NAME
```

Присвоить класс `NAME` следующему блочному элементу: абзацу, таблице, изображению и т.п. Сам по себе класс никак не влияет на отображение в финальном документе, но разработчик расширения может получить класс в коде Python через конструкцию `RT.CLASSES[id(elem)]` и выполнить ту или иную логику в соответствии с ним.

Например, предположим, что вы хотите применить определённый стиль к таблице терминов и определений. Для этого назначьте класс этой таблице, как показано ниже. После этого в [`process_table()`](../99-reference/4-processor-api.md#process) проверьте значение `RT.CLASSES[id(table)]`, и если оно равно `'TermsAndDefinitions'`, выполните нужные действия (установите ширину столбцов, выделите первый столбец жирным и т.п.).


```
@class TermsAndDefinitions

| Термин      | Определение                                             |
|-------------|---------------------------------------------------------|
| Сепульки    | Важный элемент цивилизации ардритов с планеты Энтеропия |
| Сепуление   | Занятие ардритов с планеты Энтеропия                    |
| Сепулькарии | Устройства для сепуления                                |
```