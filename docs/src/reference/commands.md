---
toc_title: Список команд
---

# Список команд Собираки

## Сборка документации {#building}

### `web`

```
sobiraka web [--config CONFIG] [--output OUTPUT] [--hide-index-html]
```

Команда собирает HTML-документацию, см. [](../build-html/web.md).

### `pdf`

```
sobiraka pdf [VOLUME] [--config CONFIG] [--output OUTPUT]
```

Команда собирает PDF-документацию с помощью WeasyPrint, см. [](../build-pdf/weasyprint.md).

### `latex`

```
sobiraka [--tmpdir TMPDIR] latex [VOLUME] [--config CONFIG] [--output OUTPUT]
```

Команда собирает PDF-документацию с помощью LaTeX, см. [](../build-pdf/latex.md).

## Проверка проекта {#validation}

### `prover`

```
sobiraka prover [--config CONFIG] [--var KEY1=VAL1 --var KEY2=VAL2 ...]
```

Команда выполняет [проверку проекта](../overview/prover.md), руководствуясь соответствующими настройками.

- Если в настройке [`prover.dictionaries`](configuration.md#prover.dictionaries) указан хотя бы один словарь Hunspell (и, опционально, другие словари), выполняется [проверка орфографии](../overview/prover.md#spell-check).

- Если включена настройка [`prover.phrases_must_begin_with_capitals`](configuration.md#prover.phrases_must_begin_with_capitals), выполняется [проверка заглавных букв в начале фраз](../overview/prover.md#phrases-must-begin-with-capitals).

Все переменные, соответствующие выходным форматам (`HTML`, `PDF` и другие), устанавливаются в `True`. Обычно это позволяет за один раз проверить все абзацы в проектах, использующих [условия Jinja](../writing/jinja.md#conditions). Если для вашего проекта такое поведение не подходит, определите необходимые переменные самостоятельно с помощью аргументов `--var`. Если передан хотя бы один аргумент `--var`, то остальные переменные, соответствующие выходным форматам, установятся в `False`. Например, вы можете завести две отдельные задачи в CI: одну с `--var HTML=1`, вторую с `--var PDF=1`.

Название команды читается как «Собирака Прувер» или «Собирака, проверь» — оба варианта верны.

### `validate_dictionary`

```
sobiraka validate_dictionary DICTIONARY [--autofix]
```

Команда загружает и проверяет пару файлов для [словаря Hunspell](../overview/prover.md#hunspell-dictionaries). В качестве аргумента необходимо передавать путь к файлу `*.dic`, но соответствующий ему файл `*.aff` из той же директории тоже будет проверен. Эта команда полностью автономна: она не работает с настройками проекта или другими данными, кроме этих двух файлов.

Некоторые некритические ошибки поддаются автоматическому исправлению. Если команде передан аргумент `--autofix` и при этом все ошибки в файлах некритические, команда автоматически внесёт соответствующие изменения.

В файле `*.dic` могут быть найдены следующие ошибки:

- в файле содержится пустая строка (она может быть автоматически удалена),
- файл ссылается на аффикс, которого нет в файле `*.aff`,
- количество записей в словаре не соответствует его заявленной длине (длина может быть автоматически обновлена).

В файле `*.aff` могут быть найдены следующие ошибки:

- два аффикса имеют одинаковые идентификаторы,
- идентификатор аффикса содержит больше одного символа,
- количество записей для аффикса не соответствует его заявленной длине (длина может быть автоматически обновлена).

## Работа с переводами {#translation}

### `check_translations`

```
sobiraka check_translations [--config CONFIG] [--strict]
```

Вспомогательная команда для работы с [мультиязычными проектами](../overview/multilang.md). Команда сравнивает версии переводов и оригиналов и делит страницы на три категории:

- _Up-to-date_ — версия перевода совпадает с версией оригинала полностью;
- _Modified_ — версия перевода совпадает с версией оригинала с точностью до мажорной составляющей;
- _Outdated_ — версия перевода значительно отличается от версии оригинала.

По умолчанию команда завершается с кодом 1, если хотя бы одна страница в проекте имеет статус “Outdated”. При использовании флага `--strict` команда завершится с кодом 1, если хотя бы одна страница в проекте имеет статус “Outdated” или “Modified”.

Пример вывода:

```
en:
  This is the primary volume
  Pages: 3
ru:
  Up-to-date pages: 1
  Modified pages: 1
    src-ru/aaa.md
  Outdated pages: 1
    src-ru/bbb.md
```