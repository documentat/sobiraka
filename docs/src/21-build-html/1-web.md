# Сборка в HTML

```
sobiraka web CONFIG [--output OUTPUT] [--hide-index-html]
```

Эта команда собирает HTML-документацию из файла `CONFIG` в директорию `OUTPUT` (по умолчанию — `build/html`).

Если директория, указанная в `OUTPUT`, существует и содержит файлы (например, результат сборки предыдущей версии), то после сборки они будут удалены или перезаписаны.

::: warning
Если сборка завершится неудачно, то в конечной директории могут остаться перемешанными как старые, так и новые файлы. Не публикуйте результаты неудачных сборок.
:::

## Структура выходной директории {#output}

Если в проекте несколько [томов](../11-overview/01-terms.md#volume), то каждый том собирается в отдельную поддиректорию, названную в соответствии с настройкой [`web.prefix`](../99-reference/1-configuration.md#volume.web.prefix). Главная страница каждого тома размещается в файле `index.html` соответствующей поддиректории. Единой главной страницы для многотомного проекта не создаётся.

В поддиректорию под названием `_resources` (или под другим названием, заданным в [`web.resources_prefix`](../99-reference/1-configuration.md#volume.web.resources_prefix)) копируются все изображения, использованные в документации. В частности, если все места, где использовалось определённое изображение, оказались исключены из сборки с помощью [условных конструкций Jinja](../12-syntax/2-jinja.md#conditions), то по умолчанию изображение скопировано не будет.

В поддиректорию под названием `_static` копируются все [статические файлы](2-web-customization.md#static-files) из темы оформления. Если в теме оформления используются [файлы стилей SASS](2-web-customization.md#sass), то собранные из них готовые стили в формате CSS будут также скопированы в `_static`.

## Ссылки {#links}

Собирака формирует все ссылки между страницами и все служебные пути (например, пути к изображениям) таким образом, чтобы они не зависели от расположения директории. Готовую документацию можно опубликовать по адресу `https://docs.example.com/`, а можно по адресу `https://example.com/docs/`, и она будет работать одинаково.

По умолчанию каждая ссылка содержит полное имя файла, на который она ссылается — даже если это имя `index.html`. Это важно для просмотра документации локально, но обычно считается избыточным при размещении на веб-хостингах, поскольку они автоматически поддерживают для ссылок вида `section/index.html` более короткие варианты вида `section/`. Чтобы Собирака использовала короткие пути, необходимо передать ей аргумент `--hide-index-html`. Мы рекомендуем передавать этот аргумент при сборке финальной версии сайта.
