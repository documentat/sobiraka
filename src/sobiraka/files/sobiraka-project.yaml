oneOf:
  - { $ref: '#/$defs/project' }

  - additionalProperties: false
    properties:
      primary:
        type: string
      languages:
        patternProperties:
          .+: { $ref: '#/$defs/project' }

  - additionalProperties: false
    properties:
      primary:
        type: string
      volumes:
        patternProperties:
          .+: { $ref: '#/$defs/project' }

  - additionalProperties: false
    properties:
      primary:
        type: string
      languages:
        patternProperties:
          .+:
            additionalProperties: false
            properties:
              volumes:
                patternProperties:
                  .+: { $ref: '#/$defs/project' }

$defs:
  project:
    additionalProperties: false
    properties:
      title: { type: string }

      paths:
        additionalProperties: false
        properties:
          root: { type: string }
          include:
            type: array
            minItems: 0
            items:
              type: string
          exclude:
            type: array
            minItems: 0
            items:
              type: string
          naming_scheme:
            type: array
            minItems: 0
            uniqueItems: true
            items:
              type: string
              format: regex
          resources: { type: string }

      html:
        additionalProperties: false
        properties:
          prefix: { type: string }
          resources_prefix: { type: string }
          resources_force_copy:
            type: array
            items:
              type: string
          theme: { type: string }
          theme_data: { type: object }

      pdf:
        additionalProperties: false
        properties:
          header: { type: string }

      lint:
        additionalProperties: false
        properties:
          dictionaries:
            type: array
            minItems: 0
            uniqueItems: true
            items:
              type: string
          exceptions:
            type: array
            minItems: 0
            uniqueItems: true
            items:
              type: string
          checks:
            properties:
              phrases_must_begin_with_capitals: { type: boolean }

      variables:
        type: object
